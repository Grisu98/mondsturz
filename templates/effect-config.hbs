<form autocomplete="off">
    <!-- Effect Header -->
    <header class="sheet-header">
        <img data-edit="icon" class="effect-icon icon-effect" src="{{ data.icon }}" data-edit="icon">
        <h1 class="effect-title">{{ data.label }}</h1>
    </header>

    <!-- Effect Configuration Tabs -->
    <nav class="sheet-tabs tabs" aria-role="{{localize 'SHEETS.FormNavLabel'}}">
        <a class="item" data-tab="effects"><i class="fas fa-cogs"></i> {{localize "EFFECT.TabEffects"}}</a>
    </nav>

    <!-- Effects Tab -->
    <section class="tab" data-tab="effects">
        <div>
            <div class="form-group">
                <label>{{ localize "EFFECT.Label" }}</label>
                <div class="form-fields">
                    <input type="text" name="label" value="{{ data.label }}" />
                </div>
            </div>

            <div class="form-group">
                <label>{{ localize "EFFECT.Disabled" }}</label>
                <input type="checkbox" name="disabled" {{ checked data.disabled }} />
            </div>
        </div>



        </div>

        <header class="effect-change effects-header flexrow">
            <div class="key">{{ localize "EFFECT.ChangeKey" }}</div>
            <div class="mode">{{ localize "EFFECT.ChangeMode" }}</div>
            <div class="value">{{ localize "EFFECT.ChangeValue" }}</div>
            <div class="effect-controls">
                <a class="effect-control" data-action="add"><i class="far fa-plus-square"></i></a>
            </div>
        </header>
        <ol class="changes-list">
            {{#each data.changes as |change i|}}
            <li class="effect-change flexrow" data-index="{{i}}">
                <div class="key">
                    <input type="text" list="prop-keys"name="changes.{{i}}.key" value="{{change.key}}" autocomplete="on"/>
                    <datalist id="prop-keys">
                        {{#each @root.propertyKeys}}
                        <option value="system.{{this}}">{{this}}</option>
                        {{/each}}
                    </datalist>
                </div>
                {{!-- <div class="key">
                    <datalist name="key-suggestions">
                        {{#select change.key}}
                        {{#each (at) root.propertyKeys}}
                        <option value="system.{{this}}">{{this}}</option>
                        {{/each}}
                        {{/select}}
                    </datalist>
                    <input autocomplete="on" list="key-suggestions" name="changes.{{i}}.key" value="{{change.key}}" />
                </div> --}}
                <div class="mode">
                    <select name="changes.{{i}}.mode" data-dtype="Number">
                        {{selectOptions ../modes selected=change.mode}}

                    </select>
                </div>
                <div class="value">
                    <input type="text" name="changes.{{i}}.value" value="{{change.value}}" />
                </div>
                <div class="effect-controls">
                    <a class="effect-control" data-action="delete"><i class="fas fa-trash"></i></a>
                </div>
            </li>
            {{/each}}
        </ol>
    </section>

    <footer class="sheet-footer">
        <button type="submit"><i class="fas fa-save"></i> {{localize submitText}}</button>
    </footer>
</form>